
[ENG-1470] deny/approve sometimes fails -
Status: Spec Needed

Description:
response makes it to HumanLayer, but gets dropped somewhere between HL <> MCP <> Claude <> daemon event

subsequent attempts to deny/approve FAIL because the HL operation is already completed (see screenshot)

repro'd on sundeeps notifications branch, has not been repro'd on main (haven't tried, but i bet it happens there too)

may be unique to my setup, sundeep has never seen this?

current working theory - seems like second response always fails. perhaps conversation is always using the call_id of the first approval operation instead of picking up the new one? 

![Screenshot 2025-06-26 at 11.23.06â€¯AM.png](https://uploads.linear.app/3ee2840f-7196-42ab-91f2-73ab50c48671/5a144b6b-806a-4e07-a65d-0b2706007e1d/6b4fb5a2-8529-4f36-96f0-95e0107bbcc5)

Comments:
[2025-06-27] Dexter Horthy:
@allison says this is probably WUI related - next step run a research task


View in Linear: https://linear.app/humanlayer/issue/ENG-1470/denyapprove-sometimes-fails
