
[ENG-1441] Accept user messages while Claude is running (queuing/interrupt flow)
Status: code review
Assignee: allison@humanlayer.dev

Description:
## Summary

The hld daemon already supports calling `ContinueSession` on running sessions - it automatically interrupts the running session and starts a new one. We just need to enable the input field in the WUI during the `running` state.

## Implementation

This is a **UI-only change** requiring 5 small modifications in `SessionDetail.tsx`:

* Enable input and buttons during `running` state (change disable conditions)
* Update placeholder text to indicate interruption will occur
* Update help text for clarity

## Key Details

* Backend already handles interrupting running sessions (`hld/session/manager.go:706-753`)
* No changes needed to hld daemon, hlyr/MCP protocol, or any backend infrastructure
* Just enable UI controls that are currently disabled

## References

* Spec: `thoughts/shared/research/2025-06-30_11-13-49_claude_message_queuing_spec.md`
* Related code: `humanlayer-wui/src/components/internal/SessionDetail.tsx:1044,1073,1078`

Comments:
[2025-07-01] Dexter Horthy:
update - i came back to wui and now its working? the session went from `failed` to `waiting_input` by the time i got back 

![Screenshot 2025-07-01 at 7.40.06 AM.png](https://uploads.linear.app/3ee2840f-7196-42ab-91f2-73ab50c48671/27afda89-f91a-4e27-b566-c6f2e29b28e6/219f4088-f165-403c-8e28-6feb826c597e)

[2025-07-01] Dexter Horthy:
@allison seeing some weird behavior and i'm not sure if this is 

1) an edge case that can be tracked separately by narrowing the scope of this

OR

2) a bug in the current expected behavior

[https://www.loom.com/share/67a9377e878640839adaa3cb7d30326e](https://www.loom.com/share/67a9377e878640839adaa3cb7d30326e)

[2025-07-01] Dexter Horthy:
ah it was the wrong folder ok

[2025-07-01] Dexter Horthy:
@allison i tried to run this and getting a failure to launch

![Screenshot 2025-07-01 at 7.33.16 AM.png](https://uploads.linear.app/3ee2840f-7196-42ab-91f2-73ab50c48671/962fa2d6-766e-435e-bbee-fd16b5720d7b/cf72ed2e-5dc5-4164-8064-0cdf3f61db12)

[2025-06-30] Dexter Horthy:
where is this file @allison 

![Screenshot 2025-06-30 at 1.42.06 PM.png](https://uploads.linear.app/3ee2840f-7196-42ab-91f2-73ab50c48671/c724da9e-7c0a-4fa7-ad34-d39aec4d4c6b/b6f00729-17fb-425f-a854-84f6e455466b)


View in Linear: https://linear.app/humanlayer/issue/ENG-1441/accept-user-messages-while-claude-is-running-queuinginterrupt-flow
